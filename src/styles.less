// ─── Design tokens (must be before ng-zorro import for LESS overrides) ───────
@import 'styles/variables';

// ─── NG-ZORRO LESS variable overrides ────────────────────────────────────────
@primary-color:        @primary;
@link-color:           @accent;
@success-color:        @primary;
@warning-color:        @accent;
@info-color:           #17a2b8;
@error-color:          #dc3545;
@border-radius-base:   @radius-md;
@body-background:      @bg-page;
@component-background: @bg-card;
@text-color:           @text-primary;
@font-size-base:       14px;
@height-base:          40px;
@height-lg:            48px;

// ─── NG-ZORRO full theme ─────────────────────────────────────────────────────
@import '../node_modules/ng-zorro-antd/ng-zorro-antd.less';

// ─── Mixins (after ng-zorro so mixins can reference variables) ────────────────
@import 'styles/mixins';

// ─── Fonts ───────────────────────────────────────────────────────────────────
@font-face {
  font-family: 'Votrag-SemiBold';
  src: url('/assets/fonts/Votrag-SemiBold.ttf') format('truetype');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'Roboto-Regular';
  src: url('/assets/fonts/Roboto-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

// ─── CSS Custom Properties (Ant Design 5 runtime theming) ────────────────────
:root {
  --ant-color-primary:       @primary;
  --ant-color-primary-hover: @primary-dark;
  --ant-color-link:          @accent;

  // Responsive typography
  --fs-h1: 2rem;
  --fs-h2: 1.5rem;
  --fs-h3: 1.25rem;
  --fs-nav: 1rem;
  --lh-tight: 1.2;
}

@media (min-width: 768px) {
  :root {
    --fs-h1: 3rem;
    --fs-h2: 2rem;
    --fs-h3: 1.5rem;
    --fs-nav: 1.0625rem;
  }
}

@media (min-width: 1024px) {
  :root {
    --fs-h1: 3.75rem;
    --fs-h2: 2.5rem;
    --fs-h3: 1.75rem;
    --fs-nav: 1.125rem;
  }
}

// ─── Global Reset & Base ─────────────────────────────────────────────────────
*, *::before, *::after {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: @font-body;
  background: @bg-page;
  color: @text-primary;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
}

h1, h2, h3, h4, h5, h6 {
  font-family: @font-heading;
  line-height: var(--lh-tight);
}

h1 { font-size: var(--fs-h1); }
h2 { font-size: var(--fs-h2); }
h3 { font-size: var(--fs-h3); }

a {
  color: @primary;
  transition: @transition-base;
  &:hover { color: @primary-dark; }
}

img { max-width: 100%; display: block; }

// ─── Global Layout Utilities ─────────────────────────────────────────────────
.container {
  .container();
}

.section {
  .section();
}

.section-header {
  .section-header();
}

// ─── Bengali Overrides ───────────────────────────────────────────────────────
.lang-bn h1 { font-size: max(1.75rem, calc(var(--fs-h1) * 0.8)) !important; line-height: var(--lh-tight) !important; }
.lang-bn h2 { font-size: max(1.35rem, calc(var(--fs-h2) * 0.82)) !important; line-height: var(--lh-tight) !important; }
.lang-bn h3 { font-size: max(1.125rem, calc(var(--fs-h3) * 0.85)) !important; line-height: var(--lh-tight) !important; }
.lang-bn .nav-link { font-size: var(--fs-nav); }

// ─── NG-ZORRO component tweaks ───────────────────────────────────────────────
.ant-card {
  border-radius: @radius-lg !important;
}

.ant-btn-primary {
  .btn-primary();
}

.ant-tag {
  border-radius: @radius-full !important;
}

// ─── Scrollbar ───────────────────────────────────────────────────────────────
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: @bg-page; }
::-webkit-scrollbar-thumb { background: @border-color; border-radius: @radius-full; }
::-webkit-scrollbar-thumb:hover { background: @text-muted; }
