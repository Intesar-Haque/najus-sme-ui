<div class="dashboard">

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• MOBILE TOP BAR â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="mobile-bar">
    <button class="mobile-bar__hamburger" (click)="drawerOpen.set(true)">
      <span nz-icon nzType="menu" nzTheme="outline"></span>
    </button>
    <a routerLink="/" class="mobile-bar__brand">NAJUS SME</a>
    <nz-avatar
      [nzText]="member()?.name?.charAt(0) ?? 'M'"
      [nzSize]="36"
      [style.background-color]="'#28a745'"
      class="mobile-bar__avatar">
    </nz-avatar>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• MOBILE DRAWER NAV â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <nz-drawer
    [nzVisible]="drawerOpen()"
    (nzOnClose)="drawerOpen.set(false)"
    [nzWidth]="256"
    nzPlacement="left"
    nzTitle="NAJUS SME">
    <ng-container *nzDrawerContent>
      <div class="drawer-profile">
        <nz-avatar
          [nzText]="member()?.name?.charAt(0) ?? 'M'"
          [nzSize]="56"
          [style.background-color]="'#28a745'">
        </nz-avatar>
        <div>
          <p class="drawer-profile__name">{{ member()?.name }}</p>
          <p class="drawer-profile__code">{{ member()?.code }}</p>
        </div>
      </div>
      <nz-divider style="margin: 12px 0"></nz-divider>
      <div class="drawer-nav">
        @for (item of navItems; track item.path) {
          <a
            class="drawer-link"
            routerLinkActive="drawer-link--active"
            [routerLink]="item.path"
            (click)="drawerOpen.set(false)">
            <span nz-icon [nzType]="item.icon" nzTheme="outline"></span>
            {{ item.label }}
          </a>
        }
      </div>
      <nz-divider style="margin: 12px 0"></nz-divider>
      <button class="drawer-logout" (click)="logout()">
        <span nz-icon nzType="logout" nzTheme="outline"></span>
        Logout
      </button>
    </ng-container>
  </nz-drawer>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• DESKTOP SIDEBAR â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <aside class="sidebar">
    <div class="sidebar__logo">
      <a routerLink="/">
        <img src="/assets/logo.png" alt="NAJUS SME" />
        <span>NAJUS SME</span>
      </a>
    </div>

    <div class="sidebar__profile">
      <nz-avatar
        [nzText]="member()?.name?.charAt(0) ?? 'M'"
        [nzSize]="44"
        [style.background-color]="'#28a745'">
      </nz-avatar>
      <div class="sidebar__profile-info">
        <p class="sidebar__profile-name">{{ member()?.name }}</p>
        <p class="sidebar__profile-code">{{ member()?.code }}</p>
      </div>
    </div>

    <nav class="sidebar__nav">
      @for (item of navItems; track item.path) {
        <a
          class="sidebar__link"
          routerLinkActive="sidebar__link--active"
          [routerLink]="item.path">
          <span nz-icon [nzType]="item.icon" nzTheme="outline"></span>
          {{ item.label }}
        </a>
      }
    </nav>

    <div class="sidebar__footer">
      <a routerLink="/" class="sidebar__marketplace-link">
        <span nz-icon nzType="shop" nzTheme="outline"></span>
        Go to Marketplace
      </a>
      <button class="sidebar__logout" (click)="logout()">
        <span nz-icon nzType="logout" nzTheme="outline"></span>
        Logout
      </button>
    </div>
  </aside>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• MAIN CONTENT â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <main class="dash-main">
    <div class="dash-topbar">
      <div>
        <p class="dash-greeting">{{ greeting() }}, {{ member()?.name }}! ðŸ‘‹</p>
        <p class="dash-date">{{ today | date:'EEEE, MMMM d, yyyy' }}</p>
      </div>
      <nz-avatar
        [nzText]="member()?.name?.charAt(0) ?? 'M'"
        [nzSize]="44"
        [style.background-color]="'#28a745'"
        class="topbar-avatar">
      </nz-avatar>
    </div>

    <router-outlet></router-outlet>
  </main>

</div>
