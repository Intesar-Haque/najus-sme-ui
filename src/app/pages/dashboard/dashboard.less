@import '../../../styles/variables';
@import '../../../styles/mixins';

// ═══════════════════════════════════════════════════════════════════════
// ROOT LAYOUT
// ═══════════════════════════════════════════════════════════════════════
.dashboard {
  display: flex;
  min-height: 100vh;
  background: @bg-page;
}

// ═══════════════════════════════════════════════════════════════════════
// MOBILE TOP BAR  (hidden on desktop)
// ═══════════════════════════════════════════════════════════════════════
.mobile-bar {
  display: none;
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: 200;
  background: @dark;
  padding: 0 @sp-4;
  height: 56px;
  align-items: center;
  justify-content: space-between;
  box-shadow: @shadow-md;

  @media (max-width: @bp-md) { display: flex; }

  &__hamburger {
    background: none;
    border: none;
    color: rgba(255,255,255,.8);
    font-size: 1.25rem;
    cursor: pointer;
    padding: @sp-2;
    border-radius: @radius-md;
    .flex-center();
    &:hover { background: rgba(255,255,255,.08); }
  }

  &__brand {
    font-family: @font-heading;
    color: @text-white;
    font-size: @text-lg;
    text-decoration: none;
    letter-spacing: .02em;
  }

  &__avatar { cursor: pointer; }
}

// ═══════════════════════════════════════════════════════════════════════
// MOBILE DRAWER NAV
// ═══════════════════════════════════════════════════════════════════════
.drawer-profile {
  display: flex;
  align-items: center;
  gap: @sp-3;
  padding: @sp-2 0 @sp-4;

  &__name { font-weight: 600; color: @text-primary; font-size: @text-base; margin: 0; }
  &__code { font-size: @text-xs; color: @text-muted; margin: 0; }
}

.drawer-nav {
  display: flex;
  flex-direction: column;
  gap: @sp-1;
}

.drawer-link {
  display: flex;
  align-items: center;
  gap: @sp-3;
  width: 100%;
  padding: @sp-3 @sp-4;
  border-radius: @radius-md;
  font-size: @text-sm;
  color: @text-secondary;
  text-decoration: none;
  transition: @transition-base;
  &:hover { background: @bg-subtle; color: @text-primary; }
  &--active { background: @primary-bg; color: @primary-dark; font-weight: 600; }
}

.drawer-logout {
  display: flex;
  align-items: center;
  gap: @sp-3;
  width: 100%;
  padding: @sp-3 @sp-4;
  border-radius: @radius-md;
  background: none;
  border: 1px solid @border-color;
  cursor: pointer;
  font-family: @font-body;
  font-size: @text-sm;
  color: @text-secondary;
  transition: @transition-base;
  &:hover { border-color: #dc3545; color: #dc3545; }
}

// ═══════════════════════════════════════════════════════════════════════
// DESKTOP SIDEBAR
// ═══════════════════════════════════════════════════════════════════════
.sidebar {
  width: 240px;
  flex-shrink: 0;
  background: @dark;
  display: flex;
  flex-direction: column;
  padding: @sp-6;
  gap: @sp-5;
  position: sticky;
  top: 0;
  height: 100vh;
  overflow-y: auto;

  @media (max-width: @bp-md) { display: none; }

  &__logo {
    a { display: flex; align-items: center; gap: @sp-2; text-decoration: none; color: @text-white; font-family: @font-heading; font-size: @text-lg; }
    img { height: 32px; filter: brightness(0) invert(1); }
  }

  &__profile {
    display: flex;
    align-items: center;
    gap: @sp-3;
    padding: @sp-3;
    background: rgba(255,255,255,.06);
    border-radius: @radius-lg;
  }

  &__profile-info { min-width: 0; }

  &__profile-name {
    font-size: @text-sm; font-weight: 600; color: @text-white; margin: 0;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
  }

  &__profile-code { font-size: @text-xs; color: rgba(255,255,255,.45); margin: 0; }

  &__nav { flex: 1; display: flex; flex-direction: column; gap: @sp-1; }

  &__link {
    display: flex;
    align-items: center;
    gap: @sp-3;
    width: 100%;
    padding: @sp-3 @sp-4;
    border-radius: @radius-md;
    font-size: @text-sm;
    color: rgba(255,255,255,.6);
    text-decoration: none;
    transition: @transition-base;
    &:hover { background: rgba(255,255,255,.08); color: @text-white; }
    &--active { background: @primary; color: @text-white; font-weight: 600; }
  }

  &__footer { display: flex; flex-direction: column; gap: @sp-2; }

  &__marketplace-link {
    display: flex;
    align-items: center;
    gap: @sp-2;
    padding: @sp-3 @sp-4;
    border-radius: @radius-md;
    border: 1px solid rgba(255,255,255,.12);
    color: rgba(255,255,255,.55);
    font-size: @text-sm;
    text-decoration: none;
    transition: @transition-base;
    &:hover { border-color: rgba(255,255,255,.3); color: @text-white; }
  }

  &__logout {
    display: flex;
    align-items: center;
    gap: @sp-3;
    width: 100%;
    background: none;
    border: 1px solid rgba(255,255,255,.12);
    border-radius: @radius-md;
    padding: @sp-3 @sp-4;
    color: rgba(255,255,255,.5);
    font-size: @text-sm;
    cursor: pointer;
    transition: @transition-base;
    font-family: @font-body;
    &:hover { border-color: #dc3545; color: #ff6b6b; }
  }
}

// ═══════════════════════════════════════════════════════════════════════
// MAIN CONTENT AREA
// ═══════════════════════════════════════════════════════════════════════
.dash-main {
  flex: 1;
  min-width: 0;
  padding: @sp-8;
  display: flex;
  flex-direction: column;
  gap: @sp-6;
  max-width: 1100px;

  @media (max-width: @bp-md) {
    padding: calc(56px + @sp-5) @sp-4 @sp-8;
  }
}

// ─── Top bar ──────────────────────────────────────────────────────────
.dash-topbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: @sp-4;
  flex-wrap: wrap;
}

.dash-greeting {
  font-family: @font-heading;
  font-size: @text-2xl;
  color: @text-primary;
  margin: 0;

  @media (max-width: @bp-md) { font-size: @text-xl; }
}

.dash-date { font-size: @text-sm; color: @text-muted; margin: @sp-1 0 0; }

.topbar-avatar { @media (max-width: @bp-md) { display: none; } }
